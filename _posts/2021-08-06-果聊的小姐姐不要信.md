---
title: 果聊的小姐姐不要信
layout: post
post-image: /assets/images/bg.jpg
description: 给大胸弟们揭露小姐姐果聊的真相
tags:
- 渗透测试
- 诈骗
---

# 果聊的小姐姐不要信         

​                                                                                                                                                                                             ——XF010101     

## 前言

在繁杂的互联网上，总会不小心的点到一些小链接，然后就会看到“满园桃色”。这正是一些果聊诈骗的常见套路，通过一些H色网站或者小网站的跳转链接引诱你到一个充满诱惑的网站，然后让你下载果聊软件。当你满心欢喜的欣赏玩“小姐姐”的表演后，会突然有人有人打你的电话，说出你的位置、家人、工作的信息对你进行诈骗。现实中这类的例子还是很多的，百度上随便搜搜： [裸聊诈骗大揭秘：你以为是脱下了外衣，其实是打开了钱包](https://baijiahao.baidu.com/s?id=1697812004485982492&wfr=spider&for=pc)  ， [裸聊诈骗又来了！上海一男子为两分钟的“快乐” 吓出了一身冷汗](https://baijiahao.baidu.com/s?id=1698727891569879160&wfr=spider&for=pc)。接下来就揭秘一个果聊的通用后台的“偷家”过程。

## 原理

获取果聊服务器控制权需要以下几项技术：

1. 资产收集--通过搜索引擎、接口、工具等获取目标资产的手段。

2. 弱口令--容易被别人（他们有可能对你很了解）猜测到或被破解工具破解的口令均为弱口令。

3. 文件上传--代码作者没有对访客提交的数据进行检验或者过滤不严，可以直接提交修改过的数据绕过扩展名的检验。

4. bypass disable_function--为了安全,运维人员会禁用PHP的一些“危险”函数,将其写在php.ini配置文件中,就是我们所说的disable_functions。例如：

   `passthru,exec,system,chroot,chgrp,chown,shell_exec,proc_open,proc_get_status,popen,ini_alter,ini_restore,dl,openlog,syslog,readlink,symlink,popepassthru,link`

   disable_functions其实是一个黑名单机制,我们可以通过观察是否存在可利用的漏网之鱼,直接通过其实现绕过即可。

## 实现

### 资产收集

资产收集主要通过fofa进行搜索：

[fofa](https://fofa.so/)：

搜索语句为：`icon_hash="1403225079" && ":)APPV1"`

目前的搜索情况如下图所示，可以自己领会：

![文章-01](/assets/images/20210806/文章-01.png)

### 弱口令

由于该后台大多数为使用宝塔直接搭建的，存在弱口令的情况非常多，默认口令为admin:123456。使用该口令成功登陆系统后会 出现如下页面：

![文章-02](/assets/images/20210806/文章-02.png)

### 文件上传

后台中的网站设置功能中可以定义上传类型，可以将上传类型中添加上,php，然后就可以在头像上传处，上传一句话木马了

![文章-03](/assets/images/20210806/文章-03.png)

（上传处就算了，自己领会）

上传后，可使用shell管理工具连接成功，我这边使用的是蚁剑进行的连接：
<img src="/assets/images/20210806/文章-04.png" alt="文章-04"  />

### bypass disable_function

美中不足的是，该类型网站中存在php disable_function，不能直接执行系统命令。

可使用蚁剑的插件来进行bypass

![](/assets/images/20210806/bypass1.png)

点击运行，可选择若干模式进行绕过，绕过成功后会直接跳转到命令页面

![](/assets/images/20210806/bypass3.png)

此时便可以绕过disable function













---



